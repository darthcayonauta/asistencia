<div class="row">
    <div class="col-sm-1"></div>
    <div class="col-sm-10 contenido bloque">
        <h2><i class="fas fa-arrow-alt-circle-right"></i> Cambiar Clave_ </h2> 
        <div class="raya-blanca"></div>
        <br>

       <div class="row">
           <div class="col-sm-3">
               <strong> Ingrese Clave Nueva </strong> (MÃ­n. 8 caracteres)
           </div>
           <div class="col-sm-8">
            <input type="password" name="clave" id="clave" placeholder="Ingrese Nueva Clave" class="form-control">
           </div>
       </div>
       <br>
       <div class="row">
        <div class="col-sm-3">
            <strong> Repita Clave Nueva</strong> 
        </div>
        <div class="col-sm-8">
         <input type="password" name="repite-clave" id="repite" placeholder="Ingrese Nueva Clave" class="form-control">
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-sm-11">
            <button class="btn btn-block btn-secondary" id="cambia-clave">
                <i class="fas fa-angle-double-right"></i> Cambiar la Clave
            </button>
        </div>
    </div> 
    
    <br>
        <div id="respuesta"></div>
    </div>
</div>



<script>
    $('#cambia-clave').on( 'click' , ()=>{

        let clave1 = $('#clave').val();
        let clave2 = $('#repite').val();
        let id_user = '###id_user###';

        if( clave1 == '' || clave2 == '' )
        {
            alert( 'No dejar campos vacios' ); return false;
        }else{
              if(  clave1 != clave2  )
              { alert( 'Los campos no coinciden' ); return false; }
              else{
                  if( !validaClave( clave2  ) )
                  { alert( 'Las claves deben ser de al menos 8 caracteres' ); return false; }
                  else{

                        let data = { 'id':'cambiaClaveData', 'clave':clave2, 'id_user':id_user };
                        ajx( '#respuesta' , data );
                  }
               }
        }
    } );
</script>